sudo: required
dist: trusty
language: go
go:
  - 1.5
  - 1.6

env:
  - GO15VENDOREXPERIMENT=1

install:
  - npm install -g dredd
  - npm install
  - bundle install
  - go get -u github.com/kardianos/govendor
  - go install github.com/kardianos/govendor
  - cd && $GOPATH/bin/govendor sync
  - cd example && $GOPATH/bin/govendor sync

go_import_path: github.com/snikch/goodman
script:
  - go test github.com/snikch/goodman/{,/transaction,/hooks}
  - bundle exec cucumber
  - make -C example dredd
